syntax="proto3";
import "base.proto";

service BrokerGrpc {
  rpc OpenValve(OpenValveRequest) returns (Empty);
  rpc ReadSensor(SensorInfo) returns (Empty);
}


message SensorInfo {
  string client_id = 1;
  string sensor_id = 2;
}

message ValveInfo {
  string client_id = 1;
  string valve_id = 2;
}

message OpenValveRequest {
  ValveInfo info = 1;
  int32 duration = 2;
}

